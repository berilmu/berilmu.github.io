import{_ as x,r as s,g as k,c as r,f as p,b as e,h as b,i as L,w as v,v as V,j as C,t as _,k as f,l as P,m as D,u as N,a as u}from"./index-BEX6iLdr.js";import{H as B}from"./Header-BNqGO5sE.js";const E={class:"p-4 w-100 mx-auto ji-c"},M={class:"mt-2 w-100"},S={class:"mt-1 w-100 position-relative"},T=["type"],U=["disabled"],j={key:0},H={key:1},I={key:0,class:"text-red-500 mt-2"},R={class:"mt-2"},z={__name:"LoginPage",setup(A){const a=s(""),d=s(""),o=s(""),n=s(!1),l=s(!1),g=()=>{l.value=!l.value},m=N(),w=k(),h=async()=>{o.value="",n.value=!0;try{await w.login(a.value,d.value),m.push("/")}catch(i){i.message.includes("Email not confirmed")||i.message.includes("email not confirmed")?m.push(`/email-verification?email=${encodeURIComponent(a.value)}`):o.value=i.message}finally{n.value=!1}};return(i,t)=>{const y=D("router-link");return u(),r("div",null,[p(B,{title:"Login"}),e("div",E,[e("form",{onSubmit:L(h,["prevent"])},[e("div",M,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>a.value=c),type:"email",placeholder:"Email",class:"input mb-2 w-100"},null,512),[[V,a.value]])]),e("div",S,[v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>d.value=c),type:l.value?"text":"password",placeholder:"Password",class:"input mb-2 w-100"},null,8,T),[[C,d.value]]),e("span",{class:"position-absolute top-50 end-0 translate-middle-y me-3 cursor-pointer",style:{"z-index":"2"},onClick:g},_(l.value?"ðŸ™ˆ":"ðŸ‘ï¸"),1)]),e("button",{class:"btn w-100 main-bg-col text-white",disabled:n.value},[n.value?(u(),r("span",j,"Loading...")):(u(),r("span",H,"Login"))],8,U)],32),o.value?(u(),r("p",I,_(o.value),1)):b("",!0),e("div",R,[t[3]||(t[3]=f(" Tidak punya akun? ")),p(y,{to:"/signup",class:"block mt-4 text-sm text-primary text-center"},{default:P(()=>t[2]||(t[2]=[f(" Daftar di sini ")])),_:1})])])])}}},F=x(z,[["__scopeId","data-v-ca376a65"]]);export{F as default};
