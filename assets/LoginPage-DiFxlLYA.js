import{_ as h,r as i,g as x,c as l,f as m,b as t,h as k,i as y,w as p,v,t as b,j as _,k as L,l as V,F as C,u as N,a as r}from"./index-D9HsQQqv.js";import{H as B}from"./Header-CT0QerAB.js";const D={class:"p-4 w-100 mx-auto ji-c"},E={class:"mt-2 w-100"},P={class:"mt-1 w-100"},S=["disabled"],T={key:0},U={key:1},j={key:0,class:"text-red-500 mt-2"},F={class:"mt-2"},H={__name:"LoginPage",setup(I){const s=i(""),u=i(""),a=i(""),c=N(),f=x(),o=i(!1),g=async()=>{a.value="",o.value=!0;try{await f.login(s.value,u.value),c.push("/")}catch(n){n.message.includes("Email not confirmed")||n.message.includes("email not confirmed")?c.push(`/email-verification?email=${encodeURIComponent(s.value)}`):a.value=n.message}finally{o.value=!1}};return(n,e)=>{const w=V("router-link");return r(),l(C,null,[m(B,{title:"Login"}),t("div",D,[t("form",{onSubmit:y(g,["prevent"])},[t("div",E,[p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>s.value=d),type:"email",placeholder:"Email",class:"input mb-2 w-100"},null,512),[[v,s.value]])]),t("div",P,[p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>u.value=d),type:"password",placeholder:"Password",class:"input mb-2 w-100"},null,512),[[v,u.value]])]),t("button",{class:"btn w-100 main-bg-col text-white",disabled:o.value},[o.value?(r(),l("span",T,"Loading...")):(r(),l("span",U,"Login"))],8,S)],32),a.value?(r(),l("p",j,b(a.value),1)):k("",!0),t("div",F,[e[3]||(e[3]=_(" Tidak punya akun? ")),m(w,{to:"/signup",class:"block mt-4 text-sm text-primary text-center"},{default:L(()=>e[2]||(e[2]=[_("Daftar di sini ")])),_:1})])])],64)}}},A=h(H,[["__scopeId","data-v-3274ec0d"]]);export{A as default};
