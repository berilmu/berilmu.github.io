import{_ as x,r as t,o as y,p as w,s as v,u as V,c as o,f as _,b as s,h as f,k as m,t as d,l as C,m as E,F as S,a as i}from"./index-DFw2sIqR.js";import{H as I}from"./Header-CvZFX2C8.js";const N={class:"p-4 max-w-md mx-auto"},B={class:"mb-2"},D={key:0,class:"text-success mb-2"},R={key:1,class:"text-danger mb-2"},F=["disabled"],H={key:0},K={key:1},U={class:"mt-2"},q={__name:"VerificationSent",setup(A){const k=w(),p=V(),u=t(""),c=t(!1),n=t(""),r=t(0),l=t(!1);y(async()=>{try{const e=k.query.email;if(e)u.value=decodeURIComponent(e);else{const{data:a}=await v.auth.getSession();if(!a.session){p.push("/login");return}}}catch(e){console.error("Error checking session/email param:",e),p.push("/login")}});const g=async()=>{c.value=!1,n.value="",h();try{const{error:e}=await v.auth.resend({type:"signup",email:u.value});if(e)throw e;c.value=!0}catch(e){n.value=e.message||"Gagal mengirim ulang email."}},h=()=>{r.value=60,l.value=!0;const e=setInterval(()=>{r.value--,r.value<=0&&(clearInterval(e),l.value=!1)},1e3)};return(e,a)=>{const b=E("router-link");return i(),o(S,null,[_(I,{title:"Verifikasi Email"}),s("div",N,[s("p",B,[a[0]||(a[0]=m(" Kami telah mengirimkan email verifikasi ke ")),s("strong",null,d(u.value),1),a[1]||(a[1]=m(". Silakan periksa inbox atau folder spam Anda. "))]),c.value?(i(),o("p",D," Email verifikasi berhasil dikirim ulang. ")):f("",!0),n.value?(i(),o("p",R,d(n.value),1)):f("",!0),s("div",null,[s("button",{onClick:g,disabled:l.value,class:"btn main-bg-col text-white w-full"},[l.value?(i(),o("span",H,d(r.value)+" detik",1)):(i(),o("span",K,"Kirim Ulang Email Verifikasi"))],8,F)]),s("div",U,[_(b,{to:"/login",class:"block mt-4 text-sm text-primary text-center"},{default:C(()=>a[2]||(a[2]=[m(" Sudah verifikasi? Login di sini ")])),_:1})])])],64)}}},M=x(q,[["__scopeId","data-v-6abc7a07"]]);export{M as default};
